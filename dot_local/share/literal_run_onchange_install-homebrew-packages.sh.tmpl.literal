{{- if eq .chezmoi.os "darwin" -}}
#!/bin/bash
# Install Homebrew packages and casks if the Brewfile changes
# Ensure Homebrew is available (optional, but good practice)
if ! command -v brew &> /dev/null; then
  echo "Homebrew not found. Skipping package installation."
  exit 0
fi

echo "Running 'brew bundle' to install/update packages..."
# The --file flag points to the Brewfile managed by chezmoi
brew bundle install --file "{{ .homeDir }}/Brewfile" --no-upgrade
{{- end -}}
